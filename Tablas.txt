--DROP TABLE CLIENTES_PEPITO_SEG;
--DROP TABLE SEGUROS_PEPITO_SEG;
--DROP TABLE COMPANIAS_SEGUROS;
--DROP TABLE SINIESTROS_PEPITO_SEG;
--DROP TABLE AUTO_MAPFRE;
--DROP TABLE CLIENTES_MAPFRE;
--DROP TABLE HOGAR_MAPFRE;
--DROP TABLE VIDA_MAPFRE;
--DROP TABLE AGENTES_MAPFRE;
--
COMMIT;
--
 CREATE TABLE CLIENTES_PEPITO_SEG
   (DNI_CL              CHAR(9)     NOT NULL,
    NOMBRE_CL           CHAR(25)    NOT NULL,
    APELLIDO_1          CHAR(25)    NOT NULL,
    APELLIDO_2          CHAR(25)    NOT NULL,
    CLASE_VIA           CHAR(25)    NOT NULL,
    NOMBRE_VIA          CHAR(55)    NOT NULL,
    NUMERO_VIA          INT         NOT NULL,
    COD_POSTAL          CHAR(5)     NOT NULL,
    CIUDAD              CHAR(25)    NOT NULL,
    TELEFONO            CHAR(10)    NOT NULL,
    OBSERVACIONES       VARCHAR(500),
    CONSTRAINT PK_CLIENTE PRIMARY KEY(DNI_CL)
 );
--
CREATE UNIQUE INDEX IDX_CLIENTE_PK
ON CLIENTES_PEPITO_SEG (DNI_CL);
--
CREATE TABLE SEGUROS_PEPITO_SEG
  (NUMERO_POLIZA          CHAR(9)       NOT NULL,
   TIPO                   CHAR(2)       NOT NULL,
   FECHA_INICIO           DATE          NOT NULL,
   FECHA_VENCIMIENTO      DATE          NOT NULL,
   COND_PART              VARCHAR(2000) NOT NULL,
   OBSERVACIONES          VARCHAR(500),
   DNI_CL                 CHAR(9)       NOT NULL,
   CONSTRAINT PK_SEGUROS PRIMARY KEY(NUMERO_POLIZA),
   CONSTRAINT FK_CLIENTE_SEGURO FOREIGN KEY (DNI_CL)
   REFERENCES CLIENTES_PEPITO_SEG (DNI_CL)
   ON DELETE CASCADE
 );
--
CREATE UNIQUE INDEX IDX_SEGUROS_PK
ON SEGUROS_PEPITO_SEG (NUMERO_POLIZA);
--
CREATE TABLE COMPANIAS_SEGUROS
  (ID                     INT           NOT NULL,
   NUMERO_POLIZA          CHAR(9)       NOT NULL,
   NOMBRE_COMPANIA        CHAR(55)      NOT NULL,
   CONSTRAINT PK_COMPSEG PRIMARY KEY(ID),
   CONSTRAINT FK_SEGURO_COMPANIA FOREIGN KEY (NUMERO_POLIZA)
   REFERENCES SEGUROS_PEPITO_SEG (NUMERO_POLIZA)
   ON DELETE CASCADE
 );
--
CREATE UNIQUE INDEX IDX_COMPSEG_PK
ON COMPANIAS_SEGUROS (ID);
--
--CREATE TABLE SINIESTROS_PEPITO_SEG
--  (ID_SINIESTRO           INT           NOT NULL,
--   FECHA_SINIESTRO        DATE          NOT NULL,
--   CAUSAS                 CHAR(55)      NOT NULL,
--   ACEPTADO               CHAR(1)       NOT NULL,
--   INDEMNIZACION          DECIMAL(15,2) NOT NULL,
--   NUMERO_POLIZA          CHAR(9)       NOT NULL,
--   DNI_PERITO             CHAR(9)       NOT NULL);
--
--CREATE UNIQUE INDEX IDX_CLIENTES_PK
--ON CLIENTES_PEPITO_SEG (DNI_CL);
--
--CREATE UNIQUE INDEX IDX_SEGUROS_PK
--ON SEGUROS_PEPITO_SEG (NUMERO_POLIZA);
--
--CREATE UNIQUE INDEX IDX_COMP_SEG_PK
--ON COMPANIAS_SEGUROS (ID);
--
--CREATE UNIQUE INDEX IDX_SINIESTROS_PK
--ON SINIESTROS_PEPITO_SEG (ID_SINIESTRO);
--
--CREATE TABLE AUTO_MAPFRE
--  (POLIZA                 CHAR(9)       NOT NULL,
--   PRIMA                  DECIMAL(15,2) NOT NULL,
--   EDAD                   INT           NOT NULL,
--   CATEGORIA              CHAR(30)      NOT NULL,
--   COBERTURAS             VARCHAR(500),
--   FECHA_INICIO           DATE          NOT NULL,
--   FECHA_VENCIMIENTO      DATE          NOT NULL);
--
--CREATE TABLE CLIENTES_MAPFRE
-- (DNI                    CHAR(9)       NOT NULL,
--   NOMBRE                 CHAR(75)      NOT NULL,
--  DIRECCION              CHAR(100)     NOT NULL,
--   TELEFONO               CHAR(10)      NOT NULL,
--   OBSERVACIONES          VARCHAR(500));
--
--CREATE TABLE HOGAR_MAPFRE
--  (POLIZA                 CHAR(9)       NOT NULL,
--  PRIMA                  DECIMAL(15,2) NOT NULL,
--   CONTINENTE             DECIMAL(15,2) NOT NULL,
--   CONTENIDO              DECIMAL(15,2) NOT NULL,
--   COBERTURAS             VARCHAR(500),
--   FECHA_INICIO           DATE          NOT NULL,
--   FECHA_VENCIMIENTO      DATE          NOT NULL);
--
--CREATE TABLE VIDA_MAPFRE
--  (POLIZA                 CHAR(9)       NOT NULL,
--   PRIMA                  DECIMAL(15,2) NOT NULL,
--   EDAD                   INT           NOT NULL,
--   COBERTURAS             VARCHAR(500),
--   FECHA_INICIO           DATE          NOT NULL,
--   FECHA_VENCIMIENTO      DATE          NOT NULL);
--
--CREATE TABLE AGENTES_MAPFRE
--  (NUM_AGENTE             CHAR(9)       NOT NULL,
--   DNI_AG                 CHAR(9)       NOT NULL,
--   NOMBRE                 CHAR(25)      NOT NULL,
--   APE_1                  CHAR(25)      NOT NULL,
--   APE_2                  CHAR(25)      NOT NULL,
--   TLF                    CHAR(10)      NOT NULL,
--   DNI_CLI                CHAR(9)       NOT NULL);
